{{ 'section-editorial-image-text.css' | asset_url | stylesheet_tag }}

<div class="section-editorial-image-text background-{{ block.settings.background_color }}">
  <div class="section-editorial-image-text__grid{% if block.settings.image_position == 'right' %} section-editorial-image-text__grid--reverse{% endif %}">
    <div class="section-editorial-image-text__image-container">
      {% if block.settings.image != blank %}
        {{ block.settings.image | image_url: width: 750 | image_tag:
          loading: 'lazy',
          class: "section-editorial-image-text__image",
          sizes: "(min-width: 750px) 50vw, 100vw",
          widths: '375, 550, 750, 1100, 1500',
          alt: block.settings.image.alt | default: block.settings.heading | default: 'Editorial image'
        }}
      {% endif %}
    </div>
    <div class="section-editorial-image-text__text-container">
      {% if block.settings.heading != blank %}
        <h2 class="section-editorial-image-text__heading {{ block.settings.heading_size }}">
          {{ block.settings.heading }}
        </h2>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Editorial Image and Text",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "Small"
        },
        {
          "value": "h1",
          "label": "Medium"
        },
        {
          "value": "h0",
          "label": "Large"
        }
      ],
      "default": "h1",
      "label": "Heading size"
    },
    {
      "type": "select",
      "id": "image_position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left",
      "label": "Image position"
    },
    {
      "type": "select",
      "id": "background_color",
      "options": [
        {
          "value": "none",
          "label": "No background"
        },
        {
          "value": "color-1",
          "label": "Color 1"
        },
        {
          "value": "color-2",
          "label": "Color 2"
        },
        {
          "value": "color-3",
          "label": "Color 3"
        }
      ],
      "default": "none",
      "label": "Background color"
    },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image alt text (optional)"
    }
  ]
}
{% endschema %}